# å¤šå› å­é‡åŒ–ç³»ç»Ÿ - é¡¹ç›®ç»“æ„

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªç»è¿‡å·¥ç¨‹é‡æ„çš„å¤šå› å­é‡åŒ–æŠ•èµ„ç³»ç»Ÿï¼Œå…·å¤‡ç”Ÿäº§çº§åˆ«çš„ä»£ç è´¨é‡å’Œæ€§èƒ½è¡¨ç°ã€‚é‡‡ç”¨æ¸…æ™°çš„ä¸‰å±‚æ¶æ„è®¾è®¡ï¼Œæ”¯æŒä»æ•°æ®è·å–ã€å› å­ç”Ÿäº§åˆ°ç­–ç•¥å›æµ‹çš„å®Œæ•´æŠ•èµ„ç ”ç©¶æµç¨‹ã€‚

**ğŸ¤– æ ¸å¿ƒç‰¹è‰²ï¼šAIåŠ©æ‰‹ä¼˜å…ˆè®¾è®¡**
æœ¬ç³»ç»Ÿä»¥AIåŠ©æ‰‹ä¸ºæ ¸å¿ƒç”¨æˆ·ç•Œé¢ï¼Œé€šè¿‡æ™ºèƒ½è·¯ç”±æœºåˆ¶ï¼Œç”¨æˆ·å¯é€šè¿‡è‡ªç„¶è¯­è¨€å®Œæˆå¤æ‚çš„é‡åŒ–ç ”ç©¶ä»»åŠ¡ã€‚

## æ ¸å¿ƒæ¶æ„ 

### å››å±‚æ¶æ„è®¾è®¡
- **AIåŠ©æ‰‹å±‚**ï¼šæ™ºèƒ½äº¤äº’ç•Œé¢ï¼Œè‡ªç„¶è¯­è¨€é‡åŒ–ç ”ç©¶
- **æ•°æ®å±‚**ï¼šæ•°æ®è·å–ã€é¢„å¤„ç†å’Œè´¨é‡ç®¡ç†
- **å› å­å±‚**ï¼šå› å­ç ”ç©¶ã€ç”Ÿäº§å’Œæ“ä½œ
- **ç­–ç•¥å±‚**ï¼šç­–ç•¥æ„å»ºã€å›æµ‹å’Œè¯„ä¼°
- **åŸºç¡€å±‚**ï¼šæ ¸å¿ƒé…ç½®ã€å·¥å…·å’Œå¤–éƒ¨é›†æˆ

## ç›®å½•ç»“æ„

```
multifactors_beta/
â”œâ”€â”€ ğŸ“‹ é¡¹ç›®æ–‡æ¡£ä¸é…ç½®
â”‚   â”œâ”€â”€ README.md                    # é¡¹ç›®ä»‹ç»å’Œå¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md         # æœ¬æ–‡ä»¶ï¼Œé¡¹ç›®ç»“æ„è¯´æ˜
â”‚   â”œâ”€â”€ ARCHITECTURE_V3.md           # å››å±‚æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ CLAUDE.md                    # Claude AI ä½¿ç”¨é…ç½®
â”‚   â”œâ”€â”€ QUICK_REFERENCE.md           # å¿«é€Ÿå‚è€ƒæŒ‡å—
â”‚   â”œâ”€â”€ DATA_MODULE_COMPLETE.md      # æ•°æ®æ¨¡å—å®Œæ•´æŒ‡å—
â”‚   â”œâ”€â”€ TESTING_REPORT.md            # æµ‹è¯•æŠ¥å‘Š
â”‚   â”œâ”€â”€ subagent_config.yaml         # AIåŠ©æ‰‹ä»£ç†é…ç½®
â”‚   â””â”€â”€ archive/                     # å†å²æ–‡æ¡£å½’æ¡£
â”‚       â”œâ”€â”€ docs/                    # å·²å½’æ¡£çš„å¼€å‘æ–‡æ¡£
â”‚       â””â”€â”€ legacy/                  # å†å²ç‰ˆæœ¬ä»£ç 
â”‚
â”œâ”€â”€ ğŸ¤– AIåŠ©æ‰‹å±‚
â”‚   â”œâ”€â”€ factors/ai_quant_assistant_v2.py  # AIé‡åŒ–åŠ©æ‰‹V2.0ï¼ˆä¸»è¦æ¥å£ï¼‰
â”‚   â”œâ”€â”€ factor_manager.py            # å› å­ç®¡ç†CLIå·¥å…·
â”‚   â””â”€â”€ config/agents.yaml           # AIä»£ç†ä¸“ä¸šé…ç½®
â”‚
â”œâ”€â”€ ğŸ—ï¸ æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ core/                        # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ config_manager.py        # é…ç½®ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ data_registry.py         # æ•°æ®æ³¨å†Œç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database/                # æ•°æ®åº“è¿æ¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ factors/                 # å› å­æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°åº“
â”‚   â”‚   â”œâ”€â”€ cache/                   # ç¼“å­˜ç®¡ç†
â”‚   â”‚   â””â”€â”€ logs/                    # æ—¥å¿—æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“‚ ç»Ÿä¸€é…ç½®ç®¡ç†
â”‚   â””â”€â”€ config/                      # é…ç½®ç®¡ç†åŒ… ğŸ†•
â”‚       â”œâ”€â”€ main.yaml                # ç³»ç»Ÿä¸»é…ç½®
â”‚       â”œâ”€â”€ factors.yaml             # å› å­ç”Ÿæˆé…ç½®
â”‚       â”œâ”€â”€ field_mappings.yaml      # æ•°æ®å­—æ®µæ˜ å°„
â”‚       â”œâ”€â”€ agents.yaml              # AIä»£ç†é…ç½®
â”‚       â””â”€â”€ schemas/                 # é…ç½®æ¨¡å¼å®šä¹‰
â”‚
â”œâ”€â”€ ğŸ—ï¸ å› å­ç ”ç©¶æ¡†æ¶
â”‚   â””â”€â”€ factors/                     # å› å­ç ”ç©¶æ¡†æ¶ï¼ˆv2.1é‡æ„ç‰ˆï¼‰
â”‚       â”œâ”€â”€ ai_quant_assistant_v2.py # AIé‡åŒ–åŠ©æ‰‹V2.0ï¼ˆæ™ºèƒ½è·¯ç”±å™¨ï¼‰
â”‚       â”œâ”€â”€ ARCHITECTURE_DESIGN.md   # æ¶æ„è®¾è®¡æ–‡æ¡£ï¼ˆæ ¸å¿ƒæ–‡æ¡£ï¼‰
â”‚       â”œâ”€â”€ CLAUDE_USAGE_GUIDE.md    # Claude AI ä½¿ç”¨æŒ‡å—
â”‚       â”‚
â”‚       â”œâ”€â”€ base/                    # åŸºç¡€æ¡†æ¶å±‚
â”‚       â”‚   â”œâ”€â”€ factor_base.py       # å› å­åŸºç±»
â”‚       â”‚   â”œâ”€â”€ data_processing_mixin.py     # æ•°æ®å¤„ç†æ··å…¥
â”‚       â”‚   â”œâ”€â”€ flexible_data_adapter.py     # çµæ´»æ•°æ®é€‚é…å™¨
â”‚       â”‚   â”œâ”€â”€ validation.py        # æ•°æ®éªŒè¯æ¡†æ¶
â”‚       â”‚   â””â”€â”€ testable_mixin.py    # å¯æµ‹è¯•æ€§æ”¯æŒ
â”‚       â”‚
â”‚       â”œâ”€â”€ generator/               # å› å­ç”Ÿæˆå±‚
â”‚       â”‚   â”œâ”€â”€ factor_generator.py  # ç”Ÿæˆå™¨åŸºç±»
â”‚       â”‚   â”œâ”€â”€ financial/           # çº¯è´¢åŠ¡å› å­ï¼ˆä»…ä¾èµ–è´¢åŠ¡æŠ¥è¡¨ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ financial_report_processor.py # âœ¨ è´¢åŠ¡æŠ¥è¡¨æ•°æ®å¤„ç†å™¨ (TTM/YoY/QoQç­‰) [è¿ç§»è‡ªbase/]
â”‚       â”‚   â”‚   â”œâ”€â”€ earnings_surprise_factors.py  # ç›ˆä½™æƒŠå–œå› å­
â”‚       â”‚   â”‚   â”œâ”€â”€ experimental_factors.py       # å®éªŒæ€§å› å­
â”‚       â”‚   â”‚   â”œâ”€â”€ ep_ttm_factor.py              # EP_ttm å› å­ç¤ºä¾‹
â”‚       â”‚   â”‚   â””â”€â”€ financial_factors_adapter.py  # æ•°æ®é€‚é…å™¨
â”‚       â”‚   â”œâ”€â”€ mixed/               # æ··åˆå› å­ï¼ˆéœ€è¦å¤šç§æ•°æ®æºï¼‰ğŸ†•
â”‚       â”‚   â”‚   â”œâ”€â”€ mixed_factor_manager.py      # æ··åˆå› å­ç»Ÿä¸€ç®¡ç†å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ valuation_factors.py         # ä¼°å€¼å› å­ï¼ˆè´¢åŠ¡+å¸‚å€¼ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ __init__.py                  # æ¨¡å—å¯¼å…¥
â”‚       â”‚   â”œâ”€â”€ technical/           # æŠ€æœ¯å› å­
â”‚       â”‚   â”‚   â”œâ”€â”€ indicators/      # æŠ€æœ¯æŒ‡æ ‡åº“ [è¿ç§»è‡ªcore/utils/]
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ moving_average.py  # ç§»åŠ¨å¹³å‡æŒ‡æ ‡
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ oscillator.py      # éœ‡è¡æŒ‡æ ‡
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ volatility.py      # æ³¢åŠ¨ç‡æŒ‡æ ‡
â”‚       â”‚   â”‚   â”œâ”€â”€ price_factors.py # ä»·æ ¼å› å­
â”‚       â”‚   â”‚   â””â”€â”€ volatility_factors.py  # æ³¢åŠ¨ç‡å› å­
â”‚       â”‚   â”œâ”€â”€ risk/                # é£é™©å› å­
â”‚       â”‚   â”‚   â””â”€â”€ beta_factors.py  # Betaå› å­
â”‚       â”‚   â””â”€â”€ alpha191/            # Alpha191 å› å­é›† ğŸ†•
â”‚       â”‚       â”œâ”€â”€ alpha191_base.py           # åŸºç¡€ç±»å’Œæ•°æ®é€‚é…å™¨
â”‚       â”‚       â”œâ”€â”€ alpha191_calculator.py     # æ ¸å¿ƒè®¡ç®—å™¨
â”‚       â”‚       â”œâ”€â”€ alpha191_factors.py        # æ ‡å‡†åŒ–å› å­ç±»
â”‚       â”‚       â”œâ”€â”€ alpha191_batch.py          # æ‰¹é‡è®¡ç®—æ¥å£
â”‚       â”‚       â””â”€â”€ __init__.py                # æ¨¡å—å¯¼å…¥
â”‚       â”‚
â”‚       â”œâ”€â”€ tester/                  # å› å­æµ‹è¯•å±‚
â”‚       â”‚   â”œâ”€â”€ base/                # æµ‹è¯•åŸºç¡€ç±»
â”‚       â”‚   â”‚   â””â”€â”€ test_result.py   # æµ‹è¯•ç»“æœæ•°æ®ç»“æ„
â”‚       â”‚   â””â”€â”€ core/                # æ ¸å¿ƒæµ‹è¯•åŠŸèƒ½
â”‚       â”‚       â”œâ”€â”€ pipeline.py      # æµ‹è¯•æµæ°´çº¿ï¼ˆæ”¯æŒå› å­ç‰ˆæœ¬é€‰æ‹©ï¼‰
â”‚       â”‚       â”œâ”€â”€ data_manager.py  # æ•°æ®ç®¡ç†ï¼ˆç‰ˆæœ¬æ„ŸçŸ¥çš„å› å­åŠ è½½ï¼‰
â”‚       â”‚       â”œâ”€â”€ factor_tester.py # å› å­æµ‹è¯•å™¨ï¼ˆå«æ¢æ‰‹ç‡åˆ†æï¼‰
â”‚       â”‚       â””â”€â”€ result_manager.py # ç»“æœç®¡ç†
â”‚       â”‚
â”‚       â”œâ”€â”€ analyzer/                # å› å­åˆ†æå±‚
â”‚       â”‚   â”œâ”€â”€ config.py            # åˆ†æé…ç½®
â”‚       â”‚   â”œâ”€â”€ screening/           # å› å­ç­›é€‰ï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ factor_screener.py
â”‚       â”‚   â”œâ”€â”€ correlation/         # ç›¸å…³æ€§åˆ†æï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ correlation_analyzer.py
â”‚       â”‚   â”œâ”€â”€ stability/           # ç¨³å®šæ€§åˆ†æï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ stability_analyzer.py
â”‚       â”‚   â”œâ”€â”€ evaluation/          # ç»¼åˆè¯„ä¼°ï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ factor_evaluator.py      # å› å­è¯„ä¼°å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ dimensions/              # è¯„ä¼°ç»´åº¦
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ profitability.py    # ç›ˆåˆ©èƒ½åŠ›
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ stability.py        # ç¨³å®šæ€§
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ timeliness.py       # åŠæ—¶æ€§
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ tradability.py      # å¯äº¤æ˜“æ€§
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ uniqueness.py       # ç‹¬ç‰¹æ€§
â”‚       â”‚   â”‚   â””â”€â”€ scoring/                # è¯„åˆ†ç³»ç»Ÿ
â”‚       â”‚   â”‚       â””â”€â”€ score_calculator.py
â”‚       â”‚   â””â”€â”€ base/                # åˆ†æåŸºç¡€ç±»
â”‚       â”‚       â”œâ”€â”€ analyzer_base.py
â”‚       â”‚       â””â”€â”€ report_base.py
â”‚       â”‚
â”‚       â”œâ”€â”€ combiner/                # å› å­ç»„åˆå±‚ï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”œâ”€â”€ factor_combiner.py   # ä¸»ç»„åˆå™¨
â”‚       â”‚   â”œâ”€â”€ base/                # åŸºç¡€ç±»
â”‚       â”‚   â”‚   â””â”€â”€ combiner_base.py
â”‚       â”‚   â”œâ”€â”€ methods/             # ç»„åˆæ–¹æ³•
â”‚       â”‚   â”‚   â”œâ”€â”€ linear.py        # çº¿æ€§ç»„åˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ orthogonal.py    # æ­£äº¤åŒ–ç»„åˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ neutralization.py # ä¸­æ€§åŒ–å¤„ç†
â”‚       â”‚   â”‚   â””â”€â”€ pca.py           # PCAç»„åˆ
â”‚       â”‚   â””â”€â”€ weighting/           # æƒé‡è®¡ç®—
â”‚       â”‚       â”œâ”€â”€ equal_weight.py  # ç­‰æƒé‡
â”‚       â”‚       â”œâ”€â”€ ic_weight.py     # ICåŠ æƒ
â”‚       â”‚       â”œâ”€â”€ ir_weight.py     # IRåŠ æƒ
â”‚       â”‚       â”œâ”€â”€ risk_parity.py   # é£é™©å¹³ä»·
â”‚       â”‚       â””â”€â”€ optimal_weight.py # æœ€ä¼˜æƒé‡
â”‚       â”‚
â”‚       â”œâ”€â”€ selector/                # å› å­é€‰æ‹©å±‚ï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”œâ”€â”€ factor_selector.py   # ä¸»é€‰æ‹©å™¨
â”‚       â”‚   â”œâ”€â”€ factor_pool.py       # å› å­æ± 
â”‚       â”‚   â”œâ”€â”€ base/                # åŸºç¡€ç±»
â”‚       â”‚   â”‚   â””â”€â”€ selector_base.py
â”‚       â”‚   â”œâ”€â”€ filters/             # ç­›é€‰å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ performance_filter.py    # æ€§èƒ½ç­›é€‰
â”‚       â”‚   â”‚   â”œâ”€â”€ correlation_filter.py    # ç›¸å…³æ€§ç­›é€‰
â”‚       â”‚   â”‚   â”œâ”€â”€ stability_filter.py      # ç¨³å®šæ€§ç­›é€‰
â”‚       â”‚   â”‚   â””â”€â”€ composite_filter.py      # å¤åˆç­›é€‰
â”‚       â”‚   â””â”€â”€ strategies/          # é€‰æ‹©ç­–ç•¥
â”‚       â”‚       â”œâ”€â”€ top_n.py         # TopNé€‰æ‹©
â”‚       â”‚       â”œâ”€â”€ threshold.py     # é˜ˆå€¼é€‰æ‹©
â”‚       â”‚       â””â”€â”€ clustering.py    # èšç±»é€‰æ‹©
â”‚       â”‚
â”‚       â”œâ”€â”€ risk_model/              # é£é™©æ¨¡å‹å±‚ï¼ˆå·²å®ç°ï¼‰
â”‚       â”‚   â”œâ”€â”€ base/                # åŸºç¡€æ¡†æ¶
â”‚       â”‚   â”‚   â”œâ”€â”€ risk_model_base.py       # é£é™©æ¨¡å‹åŸºç±»
â”‚       â”‚   â”‚   â”œâ”€â”€ optimizer_base.py        # ä¼˜åŒ–å™¨åŸºç±»
â”‚       â”‚   â”‚   â”œâ”€â”€ metrics_base.py          # åº¦é‡åŸºç±»
â”‚       â”‚   â”‚   â””â”€â”€ exceptions.py            # å¼‚å¸¸ç±»
â”‚       â”‚   â”œâ”€â”€ estimators/          # åæ–¹å·®ä¼°è®¡å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ sample_covariance.py     # æ ·æœ¬åæ–¹å·®
â”‚       â”‚   â”‚   â”œâ”€â”€ ledoit_wolf.py           # Ledoit-Wolfæ”¶ç¼©
â”‚       â”‚   â”‚   â”œâ”€â”€ exponential_weighted.py  # æŒ‡æ•°åŠ æƒ
â”‚       â”‚   â”‚   â””â”€â”€ robust_estimators.py     # ç¨³å¥ä¼°è®¡
â”‚       â”‚   â””â”€â”€ models/              # é£é™©æ¨¡å‹å®ç°
â”‚       â”‚       â”œâ”€â”€ covariance_model.py      # åæ–¹å·®æ¨¡å‹
â”‚       â”‚       â”œâ”€â”€ barra_model.py           # Barraæ¨¡å‹
â”‚       â”‚       â””â”€â”€ factor_model.py          # å› å­æ¨¡å‹
â”‚       â”‚
â”‚       â”‚
â”‚       â”œâ”€â”€ operations/              # å› å­æ“ä½œå·¥å…·ç®± ğŸ†•
â”‚       â”‚   â”œâ”€â”€ README.md            # æ“ä½œå·¥å…·ç®±è¯´æ˜æ–‡æ¡£
â”‚       â”‚   â”œâ”€â”€ cross_sectional.py   # æˆªé¢æ“ä½œï¼ˆæ’åºã€æ ‡å‡†åŒ–ã€å»æå€¼ç­‰ï¼‰
â”‚       â”‚   â”œâ”€â”€ time_series.py       # æ—¶åºæ“ä½œï¼ˆç§»åŠ¨å¹³å‡ã€æ»åã€å·®åˆ†ç­‰ï¼‰
â”‚       â”‚   â”œâ”€â”€ composite.py         # å¤åˆæ“ä½œï¼ˆåŠ¨é‡ã€æ³¢åŠ¨ç‡ç­‰ï¼‰
â”‚       â”‚   â””â”€â”€ combination.py       # å› å­ç»„åˆï¼ˆçº¿æ€§ç»„åˆã€æ­£äº¤åŒ–ã€æ®‹å·®åŒ–ï¼‰
â”‚       â”‚
â”‚       â”‚
â”‚       â”œâ”€â”€ config/                  # é…ç½®ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ factor_config.py     # å› å­é…ç½®å®šä¹‰
â”‚       â”‚   â”œâ”€â”€ field_mapper.py      # å­—æ®µæ˜ å°„å™¨
â”‚       â”‚   â”œâ”€â”€ field_mapping.json   # JSONæ˜ å°„é…ç½®
â”‚       â”‚   â””â”€â”€ field_mapping.yaml   # YAMLæ˜ å°„é…ç½® (å·²è¿ç§»åˆ°config/field_mappings.yaml)
â”‚       â”‚
â”‚       â”œâ”€â”€ meta/                    # å› å­å…ƒæ•°æ®ç®¡ç† ğŸ†•
â”‚       â”‚   â”œâ”€â”€ factor_registry.py   # å› å­æ³¨å†Œè¡¨å’Œå…ƒæ•°æ®ç®¡ç†
â”‚       â”‚   â””â”€â”€ __init__.py          # æ¨¡å—å¯¼å…¥
â”‚       â”‚
â”‚       â”œâ”€â”€ utils/                   # å› å­å·¥å…·
â”‚       â”‚   â”œâ”€â”€ multiindex_helper.py # MultiIndexæ ¼å¼å·¥å…·
â”‚       â”‚   â”œâ”€â”€ data_adapter.py      # æ•°æ®é€‚é…å™¨
â”‚       â”‚   â””â”€â”€ factor_updater.py    # å› å­æ›´æ–°å™¨
â”‚       â”‚
â”‚       â””â”€â”€ templates/               # å¼€å‘æ¨¡æ¿
â”‚           â””â”€â”€ factor_template.py   # å› å­å¼€å‘æ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ“Š æ•°æ®å¤„ç†
â”‚   â””â”€â”€ data/                        # æ•°æ®å¤„ç†æ¨¡å—
â”‚       â”œâ”€â”€ auxiliary/               # é¢„å¤„ç†æ•°æ®å­˜å‚¨
â”‚       â”œâ”€â”€ fetcher/                 # æ•°æ®è·å–æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ BasicDataLocalization.py    # åŸºç¡€æ•°æ®æœ¬åœ°åŒ–ï¼ˆğŸ—‚ï¸ é—ç•™æ¨¡å—ï¼Œå·²è§£è€¦ï¼‰
â”‚       â”‚   â”œâ”€â”€ data_fetcher.py             # é€šç”¨æ•°æ®è·å–å™¨
â”‚       â”‚   â”œâ”€â”€ chunked_price_fetcher.py    # åˆ†å—ä»·æ ¼è·å–
â”‚       â”‚   â”œâ”€â”€ incremental_price_updater.py    # å¢é‡ä»·æ ¼æ›´æ–°
â”‚       â”‚   â”œâ”€â”€ incremental_financial_updater.py # å¢é‡è´¢åŠ¡æ›´æ–°
â”‚       â”‚   â””â”€â”€ incremental_stop_price_updater.py # å¢é‡åœç‰Œä»·æ ¼æ›´æ–°
â”‚       â”œâ”€â”€ processor/               # æ•°æ®å¤„ç†ç®¡é“
â”‚       â”‚   â”œâ”€â”€ data_processing_pipeline.py # ä¸»å¤„ç†æµæ°´çº¿
â”‚       â”‚   â”œâ”€â”€ enhanced_pipeline.py        # å¢å¼ºå¤„ç†æµæ°´çº¿
â”‚       â”‚   â”œâ”€â”€ financial_processor.py      # è´¢åŠ¡æ•°æ®å¤„ç†å™¨
â”‚       â”‚   â”œâ”€â”€ price_processor.py          # ä»·æ ¼æ•°æ®å¤„ç†å™¨
â”‚       â”‚   â””â”€â”€ return_calculator.py        # æ”¶ç›Šè®¡ç®—å™¨
â”‚       â”œâ”€â”€ examples/                # æ•°æ®æ ¼å¼ç¤ºä¾‹
â”‚       â”‚   â””â”€â”€ data_format_examples.py
â”‚       â”œâ”€â”€ schemas.py               # æ•°æ®ç»“æ„å®šä¹‰
â”‚       â”œâ”€â”€ data_bridge.py           # æ•°æ®æ¡¥æ¥å™¨
â”‚       â””â”€â”€ prepare_auxiliary_data.py       # æ•°æ®é¢„å¤„ç†ä¸»ç¨‹åº
â”‚
â”œâ”€â”€ ğŸ”„ å›æµ‹ç³»ç»Ÿ
â”‚   â””â”€â”€ backtest/                    # å›æµ‹ç³»ç»Ÿæ¨¡å—ï¼ˆå·²å®ç°ï¼‰
â”‚       â”œâ”€â”€ engine/                  # å›æµ‹å¼•æ“
â”‚       â”‚   â””â”€â”€ backtest_engine.py   # ä¸»å›æµ‹å¼•æ“
â”‚       â”œâ”€â”€ portfolio/               # ç»„åˆç®¡ç†
â”‚       â”‚   â””â”€â”€ portfolio_manager.py # ç»„åˆç®¡ç†å™¨
â”‚       â”œâ”€â”€ cost/                    # äº¤æ˜“æˆæœ¬
â”‚       â”‚   â”œâ”€â”€ commission.py        # ä½£é‡‘æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ market_impact.py     # å¸‚åœºå†²å‡»
â”‚       â”‚   â””â”€â”€ slippage.py          # æ»‘ç‚¹æ¨¡å‹
â”‚       â”œâ”€â”€ performance/             # ç»©æ•ˆåˆ†æ
â”‚       â”‚   â”œâ”€â”€ metrics.py           # ç»©æ•ˆæŒ‡æ ‡
â”‚       â”‚   â””â”€â”€ result.py            # ç»“æœç®¡ç†
â”‚       â”œâ”€â”€ utils/                   # å›æµ‹å·¥å…·
â”‚       â”‚   â”œâ”€â”€ trading_constraints.py # äº¤æ˜“çº¦æŸ
â”‚       â”‚   â””â”€â”€ validation.py        # éªŒè¯å·¥å…·
â”‚       â”œâ”€â”€ backtest_api_design.py   # APIè®¾è®¡æ–‡æ¡£
â”‚       â””â”€â”€ backtest_usage_guide.md  # ä½¿ç”¨æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ§ª æµ‹è¯•æ¡†æ¶
â”‚   â””â”€â”€ tests/                       # ç»Ÿä¸€æµ‹è¯•æ¡†æ¶
â”‚       â”œâ”€â”€ README.md                # æµ‹è¯•è¯´æ˜
â”‚       â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ test_fundamental_factors.py # åŸºæœ¬é¢å› å­å•å…ƒæµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ test_data_fetcher.py # æ•°æ®è·å–å™¨æµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ test_db_connection.py       # æ•°æ®åº“è¿æ¥æµ‹è¯•
â”‚       â”‚   â””â”€â”€ test_encoding.py     # ç¼–ç å¤„ç†æµ‹è¯•
â”‚       â”‚
â”‚       â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ test_factor_validation.py   # å› å­éªŒè¯é›†æˆæµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ test_refactored_factors.py  # é‡æ„åå› å­æµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ test_data_processor_consistency.py # æ•°æ®å¤„ç†ä¸€è‡´æ€§æµ‹è¯•
â”‚       â”‚   â””â”€â”€ verify_processor_consistency.py    # å¤„ç†å™¨ä¸€è‡´æ€§éªŒè¯
â”‚       â”‚
â”‚       â”œâ”€â”€ performance/             # æ€§èƒ½æµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ benchmark_performance.py    # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚       â”‚   â””â”€â”€ simple_performance_test.py  # ç®€å•æ€§èƒ½æµ‹è¯•
â”‚       â”‚
â”‚       â””â”€â”€ data/                    # æµ‹è¯•æ•°æ®
â”‚           â””â”€â”€ test_data/           # æ¨¡æ‹Ÿæµ‹è¯•æ•°æ®
â”‚
â”œâ”€â”€ ğŸ“š ç¤ºä¾‹å’Œæ–‡æ¡£
â”‚   â”œâ”€â”€ examples/                    # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ factor_calculation_example.py   # å› å­è®¡ç®—ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ data_adapter_example.py  # æ•°æ®é€‚é…å™¨ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ utils_usage_example.py   # å·¥å…·ä½¿ç”¨ç¤ºä¾‹
â”‚   â”‚
â”‚   â””â”€â”€ docs/                        # è¯¦ç»†æ–‡æ¡£
â”‚       â”œâ”€â”€ README.md                # æ–‡æ¡£ç›®å½•
â”‚       â”œâ”€â”€ BPå› å­ä½¿ç”¨æŒ‡å—.md         # BPå› å­ä½¿ç”¨æŒ‡å—
â”‚       â”œâ”€â”€ å› å­è®¡ç®—æ¨¡å—è¿ç§»æŒ‡å—.md    # è¿ç§»æŒ‡å—
â”‚       â”œâ”€â”€ æ•°æ®é¢„å¤„ç†åŠŸèƒ½å®Œæ•´æŒ‡å—.md  # æ•°æ®é¢„å¤„ç†æŒ‡å—
â”‚       â””â”€â”€ Priceæ•°æ®å¢é‡æ›´æ–°ä½¿ç”¨è¯´æ˜.md # æ•°æ®æ›´æ–°è¯´æ˜
â”‚
â”œâ”€â”€ ğŸ”§ å·¥å…·å’Œè°ƒè¯•
â”‚   â”œâ”€â”€ tools/                       # å¼€å‘å·¥å…·
â”‚   â”‚   â””â”€â”€ db_monitor.py            # æ•°æ®åº“ç›‘æ§å·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ debug/                       # è°ƒè¯•å·¥å…·
â”‚   â”‚   â”œâ”€â”€ debug_template.py        # è°ƒè¯•æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ results/                 # è°ƒè¯•ç»“æœï¼ˆå·²æ¸…ç†ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ utils/                       # ç‹¬ç«‹å·¥å…·
â”‚       â””â”€â”€ io_utils.py              # IOå·¥å…·
â”‚
â”œâ”€â”€ ğŸ—‚ï¸ å…¶ä»–æ¨¡å—
â”‚   â”œâ”€â”€ portfolio/                   # ç»„åˆç®¡ç†ï¼ˆé¢„ç•™ï¼‰
â”‚   â”‚   â”œâ”€â”€ optimizer/               # ç»„åˆä¼˜åŒ–
â”‚   â”‚   â”œâ”€â”€ risk_manager/            # é£é™©ç®¡ç†
â”‚   â”‚   â””â”€â”€ simulator/               # æŠ•èµ„ç»„åˆæ¨¡æ‹Ÿ
â”‚   â”‚
â”‚   â”œâ”€â”€ integration/                 # ç³»ç»Ÿé›†æˆ
â”‚   â”‚   â””â”€â”€ qlib_adapter/            # qlibé€‚é…å™¨
â”‚   â”‚
â”‚   â””â”€â”€ legacy/                      # å†å²ç‰ˆæœ¬
â”‚       â””â”€â”€ README.md                # å†å²ç‰ˆæœ¬è¯´æ˜
â”‚
â”œâ”€â”€ ğŸ“œ æ ¸å¿ƒæ‰§è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ scheduled_data_updater.py    # å®šæ—¶æ•°æ®æ›´æ–°å™¨ â­
â”‚   â”œâ”€â”€ interactive_data_updater.py  # äº¤äº’å¼æ•°æ®æ›´æ–°å™¨
â”‚   â”œâ”€â”€ get_historical_price_2014.py # å†å²æ•°æ®è·å–å·¥å…·
â”‚   â”œâ”€â”€ batch_generate_factors.py    # æ‰¹é‡å› å­ç”Ÿæˆå·¥å…· â­
â”‚   â”œâ”€â”€ quick_generate_factors.py    # å¿«é€Ÿå› å­ç”Ÿæˆå·¥å…· â­
â”‚   â”œâ”€â”€ advanced_factor_generator.py # é«˜çº§å› å­ç”Ÿæˆå™¨ â­
â”‚   â”œâ”€â”€ factor_manager.py            # å› å­ç®¡ç†å·¥å…·CLI
â”‚   â””â”€â”€ generate_orthogonal_factors.py  # æ­£äº¤åŒ–å› å­ç”Ÿæˆè„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“š ç¤ºä¾‹å’Œæ•™ç¨‹
â”‚   â””â”€â”€ examples/                    # ä½¿ç”¨ç¤ºä¾‹å’Œæ•™ç¨‹ ğŸ†•
â”‚       â”œâ”€â”€ factor_examples/         # å› å­è®¡ç®—ç¤ºä¾‹
â”‚       â”‚   â”œâ”€â”€ generate_bp_factor.py
â”‚       â”‚   â”œâ”€â”€ calculate_custom_factor_example.py
â”‚       â”‚   â””â”€â”€ quick_custom_factor_dev.py
â”‚       â”œâ”€â”€ workflows/               # å·¥ä½œæµç¤ºä¾‹
â”‚       â”‚   â”œâ”€â”€ simple_custom_factor_workflow.py
â”‚       â”‚   â”œâ”€â”€ standard_factor_workflow.py
â”‚       â”‚   â””â”€â”€ correct_factor_workflow.py
â”‚       â”œâ”€â”€ benchmarks/              # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚       â”‚   â”œâ”€â”€ momentum_performance_benchmark.py
â”‚       â”‚   â””â”€â”€ technical_factors_performance_benchmark.py
â”‚       â””â”€â”€ demos/                   # ä½¿ç”¨æ¼”ç¤º
â”‚           â”œâ”€â”€ demo_claude_usage.py
â”‚           â””â”€â”€ demo_agent_usage.py
â”‚
â”œâ”€â”€ ğŸ”§ å¼€å‘å·¥å…·
â”‚   â””â”€â”€ tools/                       # å¼€å‘å’Œè°ƒè¯•å·¥å…· ğŸ†•
â”‚       â”œâ”€â”€ helpers/                 # è¾…åŠ©å·¥å…·
â”‚       â”‚   â”œâ”€â”€ subagent_manager.py
â”‚       â”‚   â””â”€â”€ agent_helper.py
â”‚       â””â”€â”€ debug/                   # è°ƒè¯•å·¥å…·
â”‚           â”œâ”€â”€ check_factor_format.py
â”‚           â”œâ”€â”€ debug_index_format.py
â”‚           â””â”€â”€ check_financial_data_structure.py
â”‚
â””â”€â”€ ğŸ“¦ å½’æ¡£
    â””â”€â”€ archive/                     # å†å²æ–‡ä»¶å½’æ¡£
        â”œâ”€â”€ development/             # å¼€å‘å†å²
        â”œâ”€â”€ docs/                    # å†å²æ–‡æ¡£
        â”œâ”€â”€ legacy/                  # é—ç•™ä»£ç 
        â””â”€â”€ project_status/          # é¡¹ç›®çŠ¶æ€å†å²
```

## æ¶æ„ç‰¹è‰²ä¸ä¼˜åŠ¿

### ğŸ¤– AIåŠ©æ‰‹ä¼˜å…ˆçš„åˆ›æ–°è®¾è®¡
- **æ™ºèƒ½äº¤äº’ç•Œé¢**: ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€å³å¯å®Œæˆå¤æ‚é‡åŒ–ç ”ç©¶ä»»åŠ¡
- **æ™ºèƒ½è·¯ç”±æœºåˆ¶**: AIåŠ©æ‰‹è‡ªåŠ¨é€‰æ‹©æœ€ä½³å·¥å…·å’Œç­–ç•¥ï¼Œæå‡ç ”ç©¶æ•ˆç‡
- **ä¸“ä¸šåŒ–é…ç½®**: `config/agents.yaml` å’Œ `factors/config/ai_assistant.yaml` æä¾›ä¸“ä¸šé…ç½®
- **é™ä½ä½¿ç”¨é—¨æ§›**: é‡åŒ–ç ”ç©¶ä¸å†éœ€è¦æ·±å…¥çš„æŠ€æœ¯ç»†èŠ‚ï¼Œä¸“æ³¨äºç ”ç©¶æœ¬èº«

**æ ¸å¿ƒAIåŠ©æ‰‹ç»„ä»¶**ï¼š
- `factors/ai_quant_assistant_v2.py` - V2.0æ™ºèƒ½è·¯ç”±å™¨ç‰ˆæœ¬ï¼ˆ< 200è¡Œä»£ç ï¼Œ< 3,000 tokensï¼‰
- `factor_manager.py` - å› å­ç®¡ç†CLIå·¥å…·ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€äº¤äº’
- å®Œæ•´çš„å†³ç­–é€»è¾‘å’Œä½¿ç”¨ç¤ºä¾‹

### ğŸ—ï¸ æ¸…æ™°çš„å››å±‚æ¶æ„
- **AIåŠ©æ‰‹å±‚**: æ™ºèƒ½äº¤äº’ç•Œé¢ï¼Œè‡ªç„¶è¯­è¨€é‡åŒ–ç ”ç©¶
- **æ•°æ®å±‚åˆ†ç¦»**: æ•°æ®è·å–ã€é¢„å¤„ç†ã€è´¨é‡æ£€æŸ¥ç‹¬ç«‹ç®¡ç†
- **å› å­å±‚å®Œå–„**: ç ”ç©¶ã€ç”Ÿäº§ã€æ“ä½œå·¥å…·ä¸€ä½“åŒ–
- **ç­–ç•¥å±‚ä¸“ä¸š**: å›æµ‹ã€è¯„ä¼°ã€é£é™©ç®¡ç†ä¸“ä¸šåŒ–
- **åŸºç¡€å±‚ç¨³å›º**: é…ç½®ã€å·¥å…·ã€é›†æˆæ”¯æ’‘å…¨å±€

### ğŸ¯ æ¨¡å—åŒ–è®¾è®¡ä¼˜åŠ¿  
- **èŒè´£æ˜ç¡®**: æ¯å±‚ä¸“æ³¨è‡ªèº«æ ¸å¿ƒåŠŸèƒ½ï¼Œé¿å…èŒè´£æ··ä¹±
- **æ¾è€¦åˆ**: å±‚é—´é€šè¿‡æ ‡å‡†æ¥å£äº¤äº’ï¼Œä¾¿äºç‹¬ç«‹å¼€å‘
- **é«˜å†…èš**: ç›¸å…³åŠŸèƒ½èšåˆåœ¨åŒä¸€å±‚å†…ï¼Œä¾¿äºç»´æŠ¤
- **å¯æ‰©å±•**: æ–°åŠŸèƒ½å¯åœ¨å¯¹åº”å±‚çº§ä¾¿æ·æ·»åŠ 

### âš¡ æ€§èƒ½ä¸è´¨é‡ä¿éšœ
- **å‘é‡åŒ–ä¼˜å…ˆ**: å¤§æ•°æ®é›†æ€§èƒ½æå‡300-500%
- **å†…å­˜ä¼˜åŒ–**: å³°å€¼å†…å­˜ä½¿ç”¨é‡å‡å°‘40-60%
- **æµ‹è¯•é©±åŠ¨**: 85%æµ‹è¯•è¦†ç›–ç‡ï¼Œç¡®ä¿ä»£ç è´¨é‡
- **é…ç½®åŒ–ç®¡ç†**: é›¶ç¡¬ç¼–ç ï¼Œçµæ´»é€‚é…ä¸åŒç¯å¢ƒ

### ğŸ”§ å¼€å‘å‹å¥½æ€§
- **ç¤ºä¾‹ä¸°å¯Œ**: examples/ç›®å½•æä¾›å®Œæ•´ä½¿ç”¨ç¤ºä¾‹
- **å·¥å…·é½å…¨**: tools/ç›®å½•æä¾›è°ƒè¯•å’Œå¼€å‘è¾…åŠ©å·¥å…·  
- **æ–‡æ¡£å®Œå–„**: æ¶æ„è®¾è®¡ã€ä½¿ç”¨æŒ‡å—ã€æœ€ä½³å®è·µ
- **è§„èŒƒç»Ÿä¸€**: ç¼–ç è§„èŒƒã€å‘½åçº¦å®šã€æ¥å£æ ‡å‡†

## ä½¿ç”¨å…¥é—¨

### 1. å¿«é€Ÿå¼€å§‹
```bash
# æ•°æ®å‡†å¤‡
python data/prepare_auxiliary_data.py

# æ›´æ–°ä»·æ ¼æ•°æ®  
python scheduled_data_updater.py --data-type price

# æ‰¹é‡ç”Ÿæˆå› å­
python quick_generate_factors.py --set core

# ç”Ÿæˆæ­£äº¤åŒ–å› å­
python generate_orthogonal_factors.py --batch

# è¿è¡Œæµ‹è¯•
pytest tests/
```

### 2. å› å­è®¡ç®—ç¤ºä¾‹

#### çº¯è´¢åŠ¡å› å­ï¼ˆä»…éœ€è´¢åŠ¡æ•°æ®ï¼‰
```python
from factors.generator.financial.ep_ttm_factor import EP_ttm_Factor
from factors.generator.financial.financial_report_processor import FinancialReportProcessor

# ä½¿ç”¨è´¢åŠ¡æŠ¥è¡¨å¤„ç†å™¨è®¡ç®—TTMæ•°æ®
ttm_data = FinancialReportProcessor.calculate_ttm(financial_data)

# åˆ›å»ºå…·ä½“å› å­å®ä¾‹
ep_ttm_factor = EP_ttm_Factor()
ep_ttm_result = ep_ttm_factor.calculate()

# ä½¿ç”¨YoYå¢é•¿ç‡è®¡ç®—
yoy_growth = FinancialReportProcessor.calculate_yoy(financial_data)
```

#### æ··åˆå› å­ï¼ˆéœ€è¦å¤šç§æ•°æ®æºï¼‰ğŸ†•
```python
from factors.generator.mixed import get_mixed_factor_manager

# è·å–æ··åˆå› å­ç®¡ç†å™¨
manager = get_mixed_factor_manager()

# å‡†å¤‡æ•°æ®
data = {
    'financial_data': financial_data,
    'market_cap': market_cap
}

# è®¡ç®—ä¼°å€¼å› å­
bp = manager.calculate_factor('BP', data)        # å‡€èµ„äº§å¸‚å€¼æ¯”
ep = manager.calculate_factor('EP_ttm', data)    # å‡€åˆ©æ¶¦å¸‚å€¼æ¯”
```

#### å› å­æ“ä½œå·¥å…·ç®± ğŸ†•
```python
from factors import operations

# æˆªé¢æ“ä½œ
factor_rank = operations.rank(factor)                   # æˆªé¢æ’åº
factor_zscore = operations.zscore(factor)               # æˆªé¢æ ‡å‡†åŒ–
factor_winsorized = operations.winsorize(factor, (0.025, 0.025))  # å»æå€¼

# æ—¶åºæ“ä½œ
ma20 = operations.ma(price_data, window=20)             # 20æ—¥ç§»åŠ¨å¹³å‡
volatility = operations.std(returns, window=60)         # 60æ—¥æ³¢åŠ¨ç‡
lagged = operations.shift(factor, periods=1)            # æ»å1æœŸ

# å› å­ç»„åˆ
combined = operations.combine([factor1, factor2], [0.6, 0.4])  # çº¿æ€§ç»„åˆ
neutral = operations.neutralize(factor, market_cap)     # å¸‚å€¼ä¸­æ€§åŒ–
momentum_factor = operations.momentum(price_data, period=20)   # åŠ¨é‡å› å­

# ç®¡é“æ“ä½œ
result = (operations.pipeline(raw_factor)
         .winsorize((0.01, 0.01))
         .zscore()
         .rolling_mean(20)
         .rank(pct=True)
         .get())
```

### 3. è‡ªå®šä¹‰æ•°æ®æº
```python
# è®¾ç½®è‡ªå®šä¹‰åˆ—æ˜ å°„
factor = EPFactor()
factor.set_column_mapping('earnings', 'NET_PROFIT')
factor.set_column_mapping('quarter', 'PERIOD')

# éªŒè¯æ•°æ®å¯ç”¨æ€§
available = factor.validate_data_requirements(data, ['earnings', 'quarter'])
```

### 4. å­¦ä¹ ä½¿ç”¨ç¤ºä¾‹
```bash
# æŸ¥çœ‹å› å­è®¡ç®—ç¤ºä¾‹
ls examples/factor_examples/

# å­¦ä¹ å®Œæ•´å·¥ä½œæµ
python examples/workflows/standard_factor_workflow.py

# æŸ¥çœ‹æ€§èƒ½åŸºå‡†æµ‹è¯•
python examples/benchmarks/momentum_performance_benchmark.py

# ä½“éªŒæ¼”ç¤ºåŠŸèƒ½
python examples/demos/demo_claude_usage.py

# å› å­ç®¡ç†å·¥å…·
python factor_manager.py stats
python factor_manager.py list
```

### 5. AIåŠ©æ‰‹ä½¿ç”¨ ğŸ¤–

#### æ™ºèƒ½é‡åŒ–ç ”ç©¶åŠ©æ‰‹
```python
from factors.ai_quant_assistant_v2 import AIQuantAssistant

# åˆå§‹åŒ–AIåŠ©æ‰‹
assistant = AIQuantAssistant()

# è‡ªç„¶è¯­è¨€å› å­ç ”ç©¶
request = "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªåŸºäºç›ˆåˆ©èƒ½åŠ›çš„æ··åˆå› å­ï¼Œä½¿ç”¨æœ€æ–°çš„è´¢åŠ¡æ•°æ®"
result = assistant.process_request(request)
print(result.interpretation)  # AIåŠ©æ‰‹çš„è§£é‡Šå’Œå»ºè®®

# æ™ºèƒ½å› å­ç­›é€‰
screening_request = "ä»ç°æœ‰å› å­ä¸­ç­›é€‰å‡ºè¡¨ç°æœ€å¥½çš„ä»·å€¼ç±»å› å­"
screening_result = assistant.process_request(screening_request)
```

#### å› å­ç®¡ç†CLIå·¥å…·
```bash
# æŸ¥çœ‹å› å­ç»Ÿè®¡ä¿¡æ¯
python factor_manager.py stats

# åˆ—å‡ºæ‰€æœ‰å› å­
python factor_manager.py list --category financial

# æ³¨å†Œæ–°å› å­
python factor_manager.py register --name "CustomFactor" --type mixed

# æŸ¥è¯¢å› å­ä¿¡æ¯
python factor_manager.py info --name "ROE_ttm"
```

#### AIåŠ©æ‰‹é…ç½®
```yaml
# config/agents.yaml
ai_assistant:
  version: "2.0"
  routing_strategy: "intelligent"
  max_tokens: 3000
  decision_logic: "AI_ASSISTANT_BRAIN.md"
  
  capabilities:
    - factor_generation
    - factor_screening  
    - performance_analysis
    - data_preprocessing
```

### 6. å› å­ç‰ˆæœ¬ç®¡ç† ğŸ†•
```python
from factors.tester.core.pipeline import SingleFactorTestPipeline

pipeline = SingleFactorTestPipeline()

# æµ‹è¯•åŸå§‹å› å­
result_raw = pipeline.run('ROE_ttm', factor_version='raw')

# æµ‹è¯•æ­£äº¤åŒ–å› å­
result_orth = pipeline.run('ROE_ttm', factor_version='orthogonal') 

# è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç‰ˆæœ¬
result_auto = pipeline.run('ROE_ttm', factor_version='auto')
```

## é¡¹ç›®ä¼˜åŒ–æˆæœ âœ¨

### ğŸ”§ é…ç½®ç®¡ç†ç³»ç»Ÿå‡çº§
**ç»Ÿä¸€é…ç½®æ¶æ„**ï¼š
- **ä¹‹å‰**: åˆ†æ•£çš„ `config.yaml`, `factor_config.yaml` åœ¨æ ¹ç›®å½•
- **ç°åœ¨**: ç»Ÿä¸€çš„ `config/` åŒ…ï¼ŒåŒ…å«4ä¸ªä¸“ä¸šé…ç½®æ–‡ä»¶
- **ä¼˜åŠ¿**: ç±»å‹å®‰å…¨ã€æ¨¡å—åŒ–ã€æ˜“äºç»´æŠ¤

**æ–°é…ç½®ä½“ç³»**ï¼š
```
config/
â”œâ”€â”€ main.yaml           # ç³»ç»Ÿæ ¸å¿ƒé…ç½®ï¼ˆæ•°æ®åº“ã€è·¯å¾„ã€ç³»ç»Ÿå‚æ•°ï¼‰
â”œâ”€â”€ factors.yaml        # å› å­ç”Ÿæˆé…ç½®ï¼ˆæ‰¹æ¬¡ã€å‚æ•°ã€ç‰ˆæœ¬ç®¡ç†ï¼‰
â”œâ”€â”€ field_mappings.yaml # æ•°æ®å­—æ®µæ˜ å°„ï¼ˆè´¢åŠ¡æ•°æ®æ ‡å‡†åŒ–ï¼‰
â”œâ”€â”€ agents.yaml         # AIä»£ç†ä¸“ä¸šé…ç½®ï¼ˆè·¯ç”±ã€å†³ç­–ã€èƒ½åŠ›ï¼‰
â””â”€â”€ schemas/            # é…ç½®éªŒè¯æ¨¡å¼
```

**é…ç½®ç®¡ç†ä¼˜åŠ¿**ï¼š
- **ç»Ÿä¸€å…¥å£**: `from config import get_config, ConfigManager`
- **ç±»å‹éªŒè¯**: JSON SchemaéªŒè¯é…ç½®æ­£ç¡®æ€§  
- **ç¯å¢ƒéš”ç¦»**: å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒç‹¬ç«‹é…ç½®
- **çƒ­é‡è½½**: è¿è¡Œæ—¶é…ç½®æ›´æ–°æ”¯æŒ

### ğŸ“ é¡¹ç›®ç»“æ„ä¼˜åŒ–å¯¹æ¯”
- **æ ¹ç›®å½•æ–‡ä»¶**: 73ä¸ª â†’ 15ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **é…ç½®æ–‡ä»¶**: åˆ†æ•£ â†’ ç»Ÿä¸€config/åŒ…ç®¡ç†
- **æµ‹è¯•æ–‡ä»¶æ¸…ç†**: åˆ é™¤30ä¸ªè¿‡æ—¶æµ‹è¯•æ–‡ä»¶
- **ç¤ºä¾‹æ–‡ä»¶æ•´ç†**: 12ä¸ªç¤ºä¾‹æ–‡ä»¶ç§»è‡³examples/
- **å·¥å…·æ–‡ä»¶å½’ç±»**: 5ä¸ªè¾…åŠ©å·¥å…·ç§»è‡³tools/
- **AIåŠ©æ‰‹é›†æˆ**: æ–°å¢æ™ºèƒ½äº¤äº’å±‚

### ğŸ¯ æ–°æ¶æ„ç»„ç»‡ä¼˜åŠ¿
1. **æ ¹ç›®å½•æ¸…çˆ½**: åªä¿ç•™æ ¸å¿ƒæ‰§è¡Œè„šæœ¬å’Œé…ç½®å…¥å£
2. **é…ç½®ä¸“ä¸šåŒ–**: config/åŒ…æä¾›å®Œæ•´é…ç½®ç®¡ç†ä½“ç³»
3. **AIåŠ©æ‰‹ä¼˜å…ˆ**: æ™ºèƒ½äº¤äº’æˆä¸ºä¸»è¦ç”¨æˆ·ç•Œé¢
4. **ç¤ºä¾‹é›†ä¸­**: examples/ç›®å½•æä¾›å®Œæ•´å­¦ä¹ èµ„æº
5. **å·¥å…·åˆ†ç±»**: tools/ç›®å½•ä¾¿äºå¼€å‘å’Œè°ƒè¯•
6. **æµ‹è¯•è§„èŒƒ**: tests/ç›®å½•ç»Ÿä¸€ç®¡ç†æ‰€æœ‰æµ‹è¯•

## å¼€å‘æŒ‡å—

### ğŸš€ å¿«é€Ÿä¸Šæ‰‹æµç¨‹

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd multifactors_beta

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥æ•°æ®åº“é…ç½®
```

#### 2. ç†è§£æ¶æ„
```bash
# é˜…è¯»æ ¸å¿ƒæ¶æ„æ–‡æ¡£
cat ARCHITECTURE_V3.md           # å››å±‚æ¶æ„è®¾è®¡
cat CLAUDE.md                    # AIåŠ©æ‰‹ä½¿ç”¨é…ç½®
cat QUICK_REFERENCE.md           # å¿«é€Ÿå‚è€ƒæŒ‡å—
```

#### 3. ä½“éªŒAIåŠ©æ‰‹
```bash
# è¿è¡ŒAIåŠ©æ‰‹æ¼”ç¤º
python examples/demos/demo_ai_assistant_usage.py

# ä½¿ç”¨å› å­ç®¡ç†å·¥å…·
python factor_manager.py stats
python factor_manager.py list --type financial
```

#### 4. è¿è¡Œç¤ºä¾‹
```bash
# åŸºç¡€æ•°æ®å‡†å¤‡
python data/prepare_auxiliary_data.py

# ç”Ÿæˆç¤ºä¾‹å› å­
python examples/factor_examples/generate_bp_factor.py

# è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
python examples/benchmarks/momentum_performance_benchmark.py
```

### ğŸ’¡ æœ€ä½³å®è·µæŒ‡å—

#### AIåŠ©æ‰‹ä¼˜å…ˆåŸåˆ™
- **é¦–é€‰äº¤äº’æ–¹å¼**: ä¼˜å…ˆä½¿ç”¨AIåŠ©æ‰‹è¿›è¡Œé‡åŒ–ç ”ç©¶
- **è‡ªç„¶è¯­è¨€æ¥å£**: é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œè®©AIåŠ©æ‰‹é€‰æ‹©æœ€ä½³å·¥å…·
- **æ™ºèƒ½è·¯ç”±**: åˆ©ç”¨AIåŠ©æ‰‹çš„æ™ºèƒ½è·¯ç”±æœºåˆ¶ï¼Œé¿å…ç›´æ¥è°ƒç”¨åº•å±‚API
- **é…ç½®ä¼˜åŒ–**: æ ¹æ®ç ”ç©¶éœ€è¦è°ƒæ•´AIåŠ©æ‰‹é…ç½®ï¼ˆ`config/agents.yaml`ï¼‰

#### é…ç½®ç®¡ç†æœ€ä½³å®è·µ
- **ç»Ÿä¸€é…ç½®**: æ‰€æœ‰é…ç½®ä½¿ç”¨ `config/` åŒ…è¿›è¡Œç®¡ç†
- **ç¯å¢ƒå˜é‡**: æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†ï¼Œä¸è¦ç¡¬ç¼–ç 
- **é…ç½®éªŒè¯**: ä½¿ç”¨é…ç½®æ¨¡å¼éªŒè¯ç¡®ä¿é…ç½®æ­£ç¡®æ€§
- **çƒ­é‡è½½**: åˆ©ç”¨é…ç½®ç³»ç»Ÿçš„çƒ­é‡è½½åŠŸèƒ½è¿›è¡Œå¼€å‘è°ƒè¯•

```python
# æ­£ç¡®çš„é…ç½®ä½¿ç”¨æ–¹å¼
from config import get_config
config = get_config()

# é”™è¯¯çš„æ–¹å¼ - ä¸è¦ç›´æ¥è¯»å–é…ç½®æ–‡ä»¶
# import yaml
# with open('config.yaml') as f:
#     config = yaml.load(f)
```

#### å› å­å¼€å‘æœ€ä½³å®è·µ
1. **ä½¿ç”¨å› å­ç®¡ç†å·¥å…·**ï¼š
```bash
# æ³¨å†Œæ–°å› å­
python factor_manager.py register "MyFactor" financial "æˆ‘çš„è‡ªå®šä¹‰å› å­"

# éªŒè¯å› å­
python factor_manager.py validate

# å¤‡ä»½æ³¨å†Œè¡¨
python factor_manager.py backup
```

2. **éµå¾ªæ ‡å‡†æµç¨‹**ï¼š
```python
# 1. ç»§æ‰¿æ ‡å‡†åŸºç±»
from factors.base.factor_base import FactorBase

# 2. ä½¿ç”¨æ•°æ®é€‚é…å™¨
from factors.base.flexible_data_adapter import FlexibleDataAdapter

# 3. å®ç°æ ‡å‡†æ¥å£
class MyFactor(FactorBase):
    def calculate(self):
        # å®ç°è®¡ç®—é€»è¾‘
        pass
```

3. **è´¨é‡ä¿è¯**ï¼š
- ç¼–å†™å•å…ƒæµ‹è¯•
- ä½¿ç”¨ `SingleFactorTestPipeline` è¿›è¡Œæ ‡å‡†æµ‹è¯•
- éªŒè¯æ•°æ®æ ¼å¼å’Œè´¨é‡

#### ä»£ç è´¨é‡æ ‡å‡†
- **ç¼–ç è§„èŒƒ**: éµå¾ª `CLAUDE.md` ä¸­çš„ç¼–ç è§„èŒƒ
- **ç±»å‹å®‰å…¨**: ä½¿ç”¨ç±»å‹æ³¨è§£æé«˜ä»£ç å¯è¯»æ€§
- **é”™è¯¯å¤„ç†**: å®ç°å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- **æ€§èƒ½ä¼˜åŒ–**: ä¼˜å…ˆä½¿ç”¨å‘é‡åŒ–æ“ä½œï¼Œé¿å…å¾ªç¯

#### æµ‹è¯•å’ŒéªŒè¯
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit/

# è¿è¡Œé›†æˆæµ‹è¯•
pytest tests/integration/

# æ€§èƒ½æµ‹è¯•
python examples/benchmarks/
```

### ğŸ› ï¸ é«˜çº§å¼€å‘æŒ‡å—

#### è‡ªå®šä¹‰AIåŠ©æ‰‹èƒ½åŠ›
- æ‰©å±• `factors/ai_quant_assistant_v2.py` çš„å†³ç­–é€»è¾‘
- æ·»åŠ æ–°çš„è·¯ç”±è§„åˆ™åˆ°é…ç½®æ–‡ä»¶
- å®ç°ä¸“ä¸šåŒ–çš„å­åŠ©æ‰‹

#### æ–°æ¶æ„å±‚çº§å¼€å‘
- **æ•°æ®å±‚æ‰©å±•**: åœ¨ `data/` ä¸‹æ·»åŠ æ–°çš„æ•°æ®æº
- **å› å­å±‚æ‰©å±•**: åœ¨ `factors/generators/` ä¸‹æ·»åŠ æ–°ç±»å‹å› å­
- **ç­–ç•¥å±‚æ‰©å±•**: åœ¨ `backtest/` ä¸‹æ·»åŠ æ–°ç­–ç•¥

#### é…ç½®ç³»ç»Ÿæ‰©å±•
- æ·»åŠ æ–°é…ç½®æ¨¡å¼åˆ° `config/schemas/`
- å®ç°é…ç½®éªŒè¯å’Œé»˜è®¤å€¼å¤„ç†
- æ”¯æŒåŠ¨æ€é…ç½®æ›´æ–°

### ğŸš¨ æ³¨æ„äº‹é¡¹

#### é¿å…çš„åšæ³•
- âŒ ä¸è¦ç»•è¿‡AIåŠ©æ‰‹ç›´æ¥è°ƒç”¨åº•å±‚APIï¼ˆé™¤éå¿…è¦ï¼‰
- âŒ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç é…ç½®ä¿¡æ¯
- âŒ ä¸è¦å¿½ç•¥æ•°æ®æ ¼å¼éªŒè¯
- âŒ ä¸è¦ä½¿ç”¨å·²åºŸå¼ƒçš„æ¨¡å—å’Œæ¥å£

#### å®‰å…¨è€ƒè™‘
- ğŸ”’ ç¡®ä¿æ•°æ®åº“å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†
- ğŸ”’ ä¸è¦åœ¨ä»£ç ä¸­æ³„éœ²çœŸå®æ•°æ®
- ğŸ”’ å®šæœŸå¤‡ä»½å› å­æ³¨å†Œè¡¨å’Œé‡è¦é…ç½®

### ğŸ“š å­¦ä¹ èµ„æº

#### æ¨èå­¦ä¹ è·¯å¾„
1. **åˆå­¦è€…**: examples/demos/ â†’ examples/factor_examples/
2. **è¿›é˜¶å¼€å‘**: examples/workflows/ â†’ examples/benchmarks/
3. **ä¸“å®¶çº§**: é˜…è¯»æ¶æ„è®¾è®¡æ–‡æ¡£ï¼Œæ‰©å±•æ ¸å¿ƒåŠŸèƒ½

#### æ–‡æ¡£èµ„æº
- `ARCHITECTURE_V3.md` - ç³»ç»Ÿæ¶æ„è®¾è®¡
- `DATA_MODULE_COMPLETE.md` - æ•°æ®æ¨¡å—è¯¦è§£
- `MIXED_FACTOR_INTEGRATION_GUIDE.md` - æ··åˆå› å­å¼€å‘
- `TESTING_REPORT.md` - æµ‹è¯•æ¡†æ¶è¯´æ˜

---

**é¡¹ç›®çŠ¶æ€**: ğŸš€ ç”Ÿäº§å°±ç»ªï¼ŒAIåŠ©æ‰‹ä¼˜å…ˆæ¶æ„å®Œæˆ
**æ¶æ„ç‰ˆæœ¬**: 4.0 (AIåŠ©æ‰‹ + å››å±‚æ¶æ„)
**æœ€åæ›´æ–°**: 2025-09-07
**æ ¸å¿ƒç‰¹è‰²**: AIåŠ©æ‰‹ä¼˜å…ˆï¼Œæ™ºèƒ½è·¯ç”±ï¼Œç»Ÿä¸€é…ç½®ç®¡ç†