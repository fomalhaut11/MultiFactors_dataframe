# è‚¡ç¥¨æ± è·¯å¾„é…ç½®æ›´æ–°è¯´æ˜

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

ä¸ºäº†æ›´å¥½åœ°ç»„ç»‡è‚¡ç¥¨æ± æ–‡ä»¶ï¼Œæˆ‘å·²ç»å°†è‚¡ç¥¨æ± æ•°æ®ä» `auxiliary` ç›®å½•è¿ç§»åˆ°ä¸“ç”¨çš„ `stock_universe` ç›®å½•ã€‚

## ğŸ”„ è·¯å¾„å˜æ›´

### æ—§è·¯å¾„
```
{data_root}/auxiliary/
â”œâ”€â”€ high_turnover_5d_20m.pkl
â””â”€â”€ high_turnover_5d_20m.json
```

### æ–°è·¯å¾„
```
{data_root}/stock_universe/
â”œâ”€â”€ high_turnover_5d_20m.pkl
â””â”€â”€ high_turnover_5d_20m.json
```

å…·ä½“è·¯å¾„ï¼š`E:\Documents\PythonProject\StockProject\StockData\stock_universe\`

## âš™ï¸ é…ç½®æ–‡ä»¶æ›´æ–°

åœ¨ `config/main.yaml` ä¸­æ–°å¢äº†è‚¡ç¥¨æ± ä¸“ç”¨è·¯å¾„é…ç½®ï¼š

```yaml
paths:
  # è‚¡ç¥¨æ± å­˜å‚¨è·¯å¾„ (æ–°å¢)
  stock_universe: 'E:\Documents\PythonProject\StockProject\StockData\stock_universe'
```

## ğŸ”§ ç³»ç»Ÿæ›´æ–°

### 1. StockUniverseManager
- æ›´æ–°äº† `_load_predefined_universes()` æ–¹æ³•
- æ”¯æŒæ–°çš„ `main.paths.stock_universe` é…ç½®
- ä¿æŒå‘åå…¼å®¹æ€§

### 2. DataRegistry  
- æ›´æ–°äº†è‚¡ç¥¨æ± æ•°æ®é›†çš„æ–‡ä»¶è·¯å¾„
- æ–°å¢äº† `universe_high_turnover_5d_20m` æ•°æ®é›†æ³¨å†Œ

### 3. å‘åå…¼å®¹æ€§
æ‰€æœ‰æ›´æ–°éƒ½åŒ…å«å‘åå…¼å®¹é€»è¾‘ï¼š
```python
try:
    universe_root = Path(get_config('main.paths.stock_universe'))
except:
    # å‘åå…¼å®¹ï¼šå¦‚æœæ²¡æœ‰é…ç½®è‚¡ç¥¨æ± è·¯å¾„ï¼Œä½¿ç”¨data_rootä¸‹çš„stock_universeç›®å½•
    data_root = Path(get_config('main.paths.data_root'))
    universe_root = data_root / 'stock_universe'
```

## âœ… éªŒè¯ç»“æœ

é€šè¿‡å…¨é¢æµ‹è¯•éªŒè¯ï¼š

- **âœ… è·¯å¾„é…ç½®**: æ–°çš„è‚¡ç¥¨æ± è·¯å¾„æ­£ç¡®é…ç½®
- **âœ… æ–‡ä»¶è¿ç§»**: è‚¡ç¥¨æ± æ–‡ä»¶æˆåŠŸç§»åŠ¨åˆ°æ–°ä½ç½®
- **âœ… StockUniverseManager**: èƒ½æ­£ç¡®åŠ è½½è‚¡ç¥¨æ±  (5665åªè‚¡ç¥¨)
- **âœ… FactorDataLoader**: ç»Ÿä¸€æ•°æ®æ¥å£æ­£å¸¸å·¥ä½œ
- **âœ… DataRegistry**: è‚¡ç¥¨æ± æ•°æ®é›†æ­£ç¡®æ³¨å†Œå¹¶å¯ç”¨
- **âœ… ç›®å½•ç»“æ„**: ä¸“ç”¨ç›®å½•åŒ…å«æ­£ç¡®çš„æ–‡ä»¶

## ğŸš€ ä½¿ç”¨æ–¹å¼

### æ— éœ€ä¿®æ”¹ä»£ç 
ç°æœ‰çš„ä½¿ç”¨æ–¹å¼å®Œå…¨ä¸å˜ï¼š

```python
from factors.utils.data_loader import get_stock_universe

# ä½¿ç”¨æ–¹å¼å®Œå…¨ç›¸åŒ
universe = get_stock_universe('high_turnover_5d_20m')
```

### ç³»ç»Ÿè‡ªåŠ¨å¤„ç†
- ç³»ç»Ÿä¼šè‡ªåŠ¨ä»æ–°è·¯å¾„åŠ è½½è‚¡ç¥¨æ± æ–‡ä»¶
- æ‰€æœ‰ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–ä¿æŒä¸å˜
- å‘åå…¼å®¹æ€§ç¡®ä¿æ—§é…ç½®ä¹Ÿèƒ½å·¥ä½œ

## ğŸ“ ç›®å½•ç»“æ„ä¼˜åŠ¿

### ç»„ç»‡æ›´æ¸…æ™°
```
StockData/
â”œâ”€â”€ auxiliary/          # å…¶ä»–è¾…åŠ©æ•°æ®
â”œâ”€â”€ factors/           # å› å­æ•°æ®  
â”œâ”€â”€ stock_universe/    # è‚¡ç¥¨æ± æ•°æ® (ä¸“ç”¨)
â”‚   â”œâ”€â”€ high_turnover_5d_20m.pkl
â”‚   â”œâ”€â”€ high_turnover_5d_20m.json
â”‚   â””â”€â”€ [future_universes...]
â””â”€â”€ ...
```

### ä¾¿äºç®¡ç†
- **ä¸“ç”¨ç›®å½•**: è‚¡ç¥¨æ± æ–‡ä»¶é›†ä¸­ç®¡ç†
- **æ˜“äºæ‰©å±•**: æ·»åŠ æ–°è‚¡ç¥¨æ± æ—¶è·¯å¾„æ˜ç¡®  
- **é…ç½®åŒ–**: é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»æ§åˆ¶è·¯å¾„

## ğŸ¯ åç»­å¼€å‘

å½“ä½ éœ€è¦æ·»åŠ æ–°çš„è‚¡ç¥¨æ± æ—¶ï¼š

1. **ç”Ÿæˆæ–‡ä»¶**: ä¿å­˜åˆ° `{stock_universe}/` ç›®å½•
2. **æ›´æ–°é…ç½®**: åœ¨ `StockUniverseManager._load_predefined_universes()` ä¸­æ·»åŠ é…ç½®
3. **ä½¿ç”¨**: é€šè¿‡ç»Ÿä¸€æ¥å£ `get_stock_universe('new_universe_name')` ä½¿ç”¨

## ğŸ“Š å½“å‰è‚¡ç¥¨æ± çŠ¶æ€

- **high_turnover_5d_20m**: âœ… å·²è¿ç§»ï¼Œå·¥ä½œæ­£å¸¸
- **æ–‡ä»¶å¤§å°**: 151.8 MB (9,484,389 æ•°æ®ç‚¹)
- **è¦†ç›–æœŸé—´**: 2014-01-06 åˆ° 2025-08-28
- **è‚¡ç¥¨æ•°é‡**: 5665 åª

---

è¿™æ¬¡è·¯å¾„é‡ç»„æå‡äº†ç³»ç»Ÿçš„ç»„ç»‡æ€§å’Œå¯ç»´æŠ¤æ€§ï¼ŒåŒæ—¶ä¿æŒäº†å®Œå…¨çš„å‘åå…¼å®¹æ€§ï¼