# 财务因子重新分类设计方案

基于287个财务字段的完整因子体系设计

## 🎯 新的文件结构

### 1. `valuation_factors.py` (估值因子)
**替代原fundamental_factors.py**
- **核心理念**：市场价格 vs 基本面价值
- **因子列表**：
  - EP (盈利收益率) - 已有
  - BP (账面价值比) - 已有  
  - SP (销售收入比) - 新增
  - CFP (现金流价格比) - 新增
  - PEG (市盈率增长比) - 已有
  - SUE (标准化意外盈利) - 已有

### 2. `profitability_factors.py` (盈利能力因子)
**扩展现有文件**
- **当前**：毛利率、净利率、资产周转率、自由现金流
- **新增建议**：
  - ROE (从fundamental移入) - 净资产收益率
  - ROA - 总资产收益率  
  - ROIC - 投入资本回报率
  - 经营利润率
  - EBITDA利润率
  - 净利息收益率 (银行业)

### 3. `liquidity_factors.py` (流动性偿债因子)
**保持现有，适当扩展**
- 现有：流动比率、速动比率、资产负债率等
- 建议新增：
  - 现金比率
  - 营运资本比率
  - 利息保障倍数增强版

### 4. `growth_factors.py` (成长性因子) - **新增**
**核心理念**：企业成长能力和可持续性
- 营收增长率 (1年/3年/5年)
- 净利润增长率 (TTM, YoY)
- 净资产增长率
- 经营现金流增长率
- ROE成长性 (ROE同比变化)
- 盈利增长稳定性 (增长率标准差)

### 5. `quality_factors.py` (质量因子) - **新增** 
**核心理念**：财务质量和可靠性
- 应计项目质量 (净利润 vs 经营现金流)
- 资产质量 (商誉/总资产、无形资产占比)
- 盈利稳定性 (ROE波动率)
- 财务造假风险评分 (Beneish M-Score等)
- 审计意见质量
- 关联交易占比

### 6. `efficiency_factors.py` (经营效率因子) - **新增**
**核心理念**：资产和资本使用效率
- 存货周转率
- 应收账款周转率  
- 总资产周转率 (细分版本)
- 营运资本周转率
- 现金转换周期
- 人均产出效率

### 7. `cashflow_factors.py` (现金流因子) - **新增**
**核心理念**：现金流量和质量
- 自由现金流收益率 (已有，从profitability移入)
- 经营现金流/净利润
- 现金流波动性
- 资本支出比率
- 现金流覆盖率
- 现金流预测能力

### 8. `capital_structure_factors.py` (资本结构因子) - **新增**  
**核心理念**：资本配置和财务策略
- 财务杠杆系数
- 权益乘数变化
- 股息支付率
- 股票回购比率
- 债务期限结构
- 资本配置效率

### 9. `industry_specific_factors.py` (行业特色因子) - **新增**
**针对特定行业的专有指标**：

#### 银行业：
- 净息差 (NIM)
- 资本充足率
- 不良贷款率
- 拨备覆盖率
- 成本收入比

#### 保险业：  
- 综合成本率
- 承保利润率
- 准备金充足率
- 投资收益率
- 内含价值增长率

#### 地产业：
- 土地储备价值比
- 预售资金比率
- 开发周转率
- 净负债率
- 合约销售增长

## 🔍 重构的核心原则

### 1. **功能导向分类**
- 每个文件专注一个核心投资逻辑
- 便于策略开发者快速定位所需因子

### 2. **使用场景明确**  
- `valuation`: 选股时的估值判断
- `profitability`: 盈利能力评估
- `growth`: 成长股筛选
- `quality`: 防雷和质量控制
- `efficiency`: 经营管理评估

### 3. **计算复杂度分层**
- 简单比率计算 → 复合指标 → 高级模型

### 4. **行业适应性**
- 通用因子 + 行业特色因子
- 支持行业中性化处理

## 💡 实施建议

### 阶段1：重构现有文件 (1-2天)
1. `fundamental_factors.py` → `valuation_factors.py`
2. 将ROE移至`profitability_factors.py`  
3. 完善现有三个文件的因子

### 阶段2：新增核心文件 (3-5天)  
1. 先实现`growth_factors.py`和`quality_factors.py`
2. 这两类因子使用频率高，影响大

### 阶段3：完善体系 (1周)
1. 实现其余新增文件
2. 优化因子计算性能
3. 完善测试覆盖

## 🎯 预期收益

### 1. **因子覆盖度**：从15个 → 80+个因子
### 2. **开发效率**：按功能快速定位和开发
### 3. **策略支持**：支持多种投资风格
### 4. **可维护性**：清晰的模块边界和职责划分

---
*基于你的287个财务字段，这个重构能够充分挖掘数据价值*